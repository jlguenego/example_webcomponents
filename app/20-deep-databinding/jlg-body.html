<body>
	<template id="jlg-body">
		<div>
			This is the body...<br>

			<div>{{person.lastname}}</div>
			<div>{{person.firstname}}</div>

			<div>{{cities[0].name}}</div>
			<div>{{cities[1].population}}</div>

			<button onclick="circle.wc(this).hello()">Hello</button>
			<button onclick="circle.wc(this, 'jlg-app').hello()">Hello from jlg-app</button>
			<button onclick="circle.wc(this, 'no-where').hello()">Hello from no-where (crash!)</button>

			<o-for iterator="city" list="[cities]" >
				<template>
					<div>
						<span>index: {{index}}</span>
						<span>City name: {{city.name}}</span>
						<span>City population: {{city.population}}</span>
						<span><button onclick="circle.wc(this, 'jlg-body').delete(circle.wc(this).index)">Delete</button></span>
						<span><button onclick="console.log(circle.wc(this).index);">Log</button></span>
					</div>
				</template>
			</o-for>
		</div>
	</template>

	<script>
		class JLGBody extends circle.Element {
			constructor() {
				console.log('JLGBody constructor');
				super();
				this.model.cities = [{
					name: 'Paris',
					population: 2000000
				}, {
					name: 'Nancy',
					population: 100000
				}, {
					name: 'Lun√©ville',
					population: 20000
				}];
				this.model.person = {
					lastname: 'Doe',
					firstname: 'John'
				};
			}

			hello() {
				alert('hello !!!');
			}

			delete(index) {
				this.model.cities.splice(index, 1);
			}
		}
		JLGBody.register();

	</script>
</body>
