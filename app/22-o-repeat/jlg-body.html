<template id="jlg-body">
	<div>
		This is the body...<br>
		<o-repeat list="[cities]" iterator="city">
			<template>
				<div>
					<span>index: {{index}}</span>
					<span>City name: {{city.name}}</span>
					<span>City population: {{city.population}}</span>
					<span><button onclick="circle.wc(this, 'jlg-body').delete(circle.wc(this).index)">Delete</button></span>
					<span><button onclick="console.log(circle.wc(this).index);">Log</button></span>
				</div>
			</template>
		</o-repeat>
	</div>
</template>

<script>
	class JLGBody extends circle.Element {
		constructor() {
			super();
			this.model.cities = [];
			this.model.cities.push({
				name: 'Paris',
				population: 2000000
			});
			this.model.cities.push({
				name: 'Nancy',
				population: 100000
			});
			this.model.cities.push({
				name: 'Lun√©ville',
				population: 20000
			});

		}

		delete(index) {
			this.model.cities.splice(index, 1);
		}
	}
	JLGBody.register();

</script>
