<template id="jlg-body">
	<style>
		jlg-table {
			display: block;
			width: 300px;
		}

	</style>
	<div>
		<button onclick="circle.wc(this).refresh()">Refresh</button>
		<jlg-table table="[myTable]"></jlg-table>
	</div>
</template>

<script>
	class JLGBody extends circle.Element {

		refresh() {
			console.log('doAction start');
			const http = circle.get('http');

			http.get('content.json?asdf').then((response) => {
				console.log('response', response);
				const array = response.data.content;
				const random = Math.floor(Math.random() * 4);
				array.splice(random, 1);
				this.model.myTable = array;
				console.log('array', array);
			}).catch((error) => {
				console.log('error', error);
			});
		}

		delete(index) {
			console.log('delete', index);
			this.model.myTable.splice(index, 1);
		}
	}
	JLGBody.register();

</script>

<link async rel="import" href="jlg-table.html">