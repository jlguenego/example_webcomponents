<template id="jlg-table">
	<style>
		o-repeat {
			display: table-row;
			padding: 10px;
			margin: 10px;
			border: 1px solid black;
		}

		:host,
		jlg-table {
			display: table;
			padding: 10px;
			margin: 10px;
			border: 1px solid black;
		}
	</style>
	<o-repeat list="[headers]" iterator="header">
		<template>
			<style>
				o-repeat-item,
				 :host {
					display: table-cell;
					padding: 10px;
					margin: 10px;
					background-color: hsl(0, 100%, 95%);
				}
			</style>
			<span>{{header.name}}</span>
		</template>
	</o-repeat>
	<o-repeat list="[body]" iterator="row">
		<template>
			<o-repeat list="[row]" iterator="cell">
				<template>
					<span>{{cell.value}}</span>
				</template>
			</o-repeat>
		</template>
	</o-repeat>
</template>

<script>
	class JLGTable extends circle.Element {
		constructor() {
			super();
			console.log('JLGTable');
		}

		connectedCallback() {
			super.connectedCallback();
			console.log('table', this.model.table);
			console.log('table[0]', this.model.table[0]);
			console.log('table[0]', this.getModel('table[0]'));

			this.model.headers = Object.keys(this.model.table[0]).map(n => { return { name: n }; });
			console.log('headers', this.model.headers);
			this.model.body = this.model.table.map(row => this.model.headers.map(header => row[header.name]));
			console.log('this.model.body', this.model.body);
		}
	}
	JLGTable.register();

</script>